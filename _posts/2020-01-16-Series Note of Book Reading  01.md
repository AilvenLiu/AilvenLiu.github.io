---
layout:     post
title:      Series Note of Book Reading -- 01
subtitle:   《图解HTTP》笔记        
date:       2021-09-14
author:     OUC_LiuX
header-img: img/wallpic02.jpg
catalog: true
tags:
    - Booking Reading      
---     

> 记性不好，看书容易忘。那就把书里能总结的东西用笔记的形式记录下来，写成一个系列。这一篇是人民邮电出版社《图解HTTP》的简要笔记。    

**13页TCP三次握手：**     
发送端 -----SYN-----> 接收端 （握手开始）       
发送端 <---SYN/ACK--- 接收端 （确认收到）       
发送端 -----ACK-----> 接收端 （握手结束）       

**37页无状态协议与Cookie：**        
Http 是无状态协议，需要 Cookie 保存状态信息。Cookie 由服务端赋予。客户端首次发送的的请求报文中没有 Coookie 字段，服务端将在响应报文中加入 Cookie 返回给客户端，客户端再次发送的请求报文中携带有 Cookie，此时服务器接收到携带 Cookie 字段的请求，会对比服务器上的记录，确定是哪个客户端发送的请求。      

**42页HTTP报文：**        
Http 报文可大致分为报文首部和报文主体，两者有最先出现的空行（CR+LF）划分。通常，不一定有报文主体。        

**54页状态码：**      
||类别|原因短语|
|:---|:---|:---|
|1xx|信息性状态码|接受的请求正在处理|
|2xx|成功状态码|接受的请求处理完毕|
|3xx|重定向状态码|需要进行附加操作完成请求|
|4xx|客户端错误状态码|服务器无法处理请求|
|5xx|服务端错误状态码|服务器处理请求出错|  

更具体的，典型的状态码有：    
1. 200 OK
2. 204 No Content 没有资源返回，一般出现在只需要客户端发送信息时         
3. 206 Partial Content 返回客户端请求的由 Range 指定的部分资源；响应报文中包含有 Content-Range 指定范围的试题内容     
4. 301 Moved Permanently 永久性重定向，表示请求的资源已被分配新的 URI      
5. 302 Found 临时性重定向      
6. 400 Bad Request 请求报文出错      
7. 401 Unauthorized 请求需要认证/认证失败      
8. 403 Forbidden 拒绝访问，一般是尝试在未授权的 ip 发起访问或访问未获得授权      
9. 404 Not Found 服务器没有要访问的资源      
10. 500 Internal Server Error 服务器在处理请求时发生错误      
11. 503 Service Unavailable 服务器由于某些原因（比如超负荷运行或停机维护）暂时无法处理请求     

**66页虚拟主机与多域名：**      
HTTP/1.1 允许通过虚拟主机技术在同一台 HTTP 服务器上搭建多个 Web 站点。这样，DNS域名解析时不同的域名会解析得到相同的 ip。于是在发送 HTTP 请求时，必须在 Host 首部内完整的指定主机名和域名的 URI（统一资源标识符）。      

**代理、网关和隧道：**       
代理中转信息不改变URI，每经过一层代理（无论请求还是响应），报文首部都会追加写入 Via 首部信息，以标注经过的主机信息。       
缓存代理：转发响应时缓存代理将资源副本（缓存）保存下来，下次客户端请求相同资源时直接返回该副本而不再去访问源服务器；     
透明代理：转发请求和响应时，不作任何处理。      

网关和代理类似，但由于其可以使通信线路上的服务器提供非 HTTP 服务，利用网管可以提高通信安全性。比如网关可以连接数据库，使用 SQL 语句查询数据。     

隧道按要求建立起一条与其他服务器的通信线路，建立后可使用SSL等加密手段通信。隧道本身不解析HTTP请求，目的是确保 C-S 通信安全。      


**缓存：**      
缓存可以在位于缓存服务器，也可以为与本地浏览器，其中缓存服务器可以看作是代理服务器的一种。利用缓存可以减少队员服务器的访问，节省通信流量和时间。    
缓存具有有效期限，需要向源服务器确认资源有效性，更新缓存。       
